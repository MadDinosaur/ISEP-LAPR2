<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1230px" preserveAspectRatio="none" style="width:2722px;height:1230px;" version="1.1" viewBox="0 0 2722 1230" width="2722px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fdscwz0fa1mw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1fdscwz0fa1mw)" height="1035.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="69" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1fdscwz0fa1mw)" height="990.5078" style="stroke:#000000;stroke-width:2.0;" width="2698" x="10" y="136.9609"/><rect fill="#FFFFFF" filter="url(#f1fdscwz0fa1mw)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="749.5" x="849" y="513.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="691" x2="691" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="942" x2="942" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1159" x2="1159" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1302.5" x2="1302.5" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1486.5" x2="1486.5" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1684.5" x2="1684.5" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1819.5" x2="1819.5" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2022.5" x2="2022.5" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2226.5" x2="2226.5" y1="89.6094" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2490" x2="2490" y1="845.3516" y2="1144.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2614" x2="2614" y1="89.6094" y2="1144.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="20" y="86.5332">SpecialistDoctor</text><ellipse cx="74" cy="15" fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74,23 L74,50 M61,31 L87,31 M74,50 L61,65 M74,50 L87,65 " fill="none" filter="url(#f1fdscwz0fa1mw)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="20" y="1158.002">SpecialistDoctor</text><ellipse cx="74" cy="1171.0781" fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74,1179.0781 L74,1206.0781 M61,1187.0781 L87,1187.0781 M74,1206.0781 L61,1221.0781 M74,1206.0781 L87,1221.0781 " fill="none" filter="url(#f1fdscwz0fa1mw)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="633" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="640" y="74.5332">CreateReportUI</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="633" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="640" y="1165.002">CreateReportUI</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="859" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="866" y="74.5332">CreateReportController</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="859" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="866" y="1165.002">CreateReportController</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1120" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1127" y="74.5332">Company</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1120" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1127" y="1165.002">Company</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="1230.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1237.5" y="74.5332">testStore: TestStore</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="1230.5" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1237.5" y="1165.002">testStore: TestStore</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="199" x="1385.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1392.5" y="74.5332">testParamList: TestParamList</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="199" x="1385.5" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1392.5" y="1165.002">testParamList: TestParamList</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="169" x="1598.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1605.5" y="74.5332">testMapper: TestMapper</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="169" x="1598.5" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1605.5" y="1165.002">testMapper: TestMapper</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1781.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1788.5" y="74.5332">test: Test</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1781.5" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1788.5" y="1165.002">test: Test</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="171" x="1935.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1942.5" y="74.5332">reportStore: ReportStore</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="171" x="1935.5" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1942.5" y="1165.002">reportStore: ReportStore</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="199" x="2125.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="2132.5" y="74.5332">reportMapper: ReportMapper</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="199" x="2125.5" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="2132.5" y="1165.002">reportMapper: ReportMapper</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="57" x="2460" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="2467" y="1165.002">Report</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="163" x="2531" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="2538" y="74.5332">reportDTO: ReportDTO</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="163" x="2531" y="1143.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="2538" y="1165.002">reportDTO: ReportDTO</text><rect fill="#FFFFFF" filter="url(#f1fdscwz0fa1mw)" height="1035.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="69" y="99.6094"/><polygon fill="#A80036" points="679,117.9609,689,121.9609,679,125.9609,683,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79" x2="685" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="97" y="117.1045">starts new report</text><path d="M10,136.9609 L83,136.9609 L83,144.9609 L73,154.9609 L10,154.9609 L10,136.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="990.5078" style="stroke:#000000;stroke-width:2.0;" width="2698" x="10" y="136.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="151.4561">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="347" x="98" y="150.3799">[Until the Specialist Doctor doesn't want to write more reports]</text><polygon fill="#A80036" points="930,173.6641,940,177.6641,930,181.6641,934,177.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691" x2="936" y1="177.6641" y2="177.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="698" y="172.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="709" y="172.8076">getTestsListReadyForReport()</text><polygon fill="#A80036" points="1147,204.0156,1157,208.0156,1147,212.0156,1151,208.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1153" y1="208.0156" y2="208.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="949" y="203.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="960" y="203.1592">testStore = getTestStore()</text><polygon fill="#A80036" points="1291,234.3672,1301,238.3672,1291,242.3672,1295,238.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1297" y1="238.3672" y2="238.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="949" y="233.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="960" y="233.5107">testListReadyForReport = getTestsListReadyForReport()</text><polygon fill="#A80036" points="1673,264.7188,1683,268.7188,1673,272.7188,1677,268.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1679" y1="268.7188" y2="268.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="949" y="263.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="960" y="263.8623">toDtoList(testListReadyForReport)</text><rect fill="#FFFFFF" filter="url(#f1fdscwz0fa1mw)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="213" x="1595.5" y="276.7188"/><polygon fill="#EEEEEE" points="1595.5,276.7188,1657.5,276.7188,1657.5,284.7188,1647.5,294.7188,1595.5,294.7188,1595.5,276.7188" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1608.5" y="292.2139">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="1601.5" y="312.2139">SD_TestListReadyForReportToDTO</text><polygon fill="#A80036" points="90,342.7734,80,346.7734,90,350.7734,86,346.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="690" y1="346.7734" y2="346.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96" y="341.917">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="107" y="341.917">shows a list of tests ready to have a report and requests a test to be shown</text><polygon fill="#A80036" points="679,373.125,689,377.125,679,381.125,683,377.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79" x2="685" y1="377.125" y2="377.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86" y="372.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="97" y="372.2686">types in the test result he wants to see (by its code)</text><polygon fill="#A80036" points="930,403.4766,940,407.4766,930,411.4766,934,407.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691" x2="936" y1="407.4766" y2="407.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="698" y="402.6201">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="709" y="402.6201">getTestParametersByCode(testCode)</text><polygon fill="#A80036" points="1291,433.8281,1301,437.8281,1291,441.8281,1295,437.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1297" y1="437.8281" y2="437.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="949" y="432.9717">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="960" y="432.9717">test = getTestByCode(testCode)</text><polygon fill="#A80036" points="1808,464.1797,1818,468.1797,1808,472.1797,1812,468.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1814" y1="468.1797" y2="468.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="463.3232">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="967" y="463.3232">testParamList = getTestParamList()</text><polygon fill="#A80036" points="1475,494.5313,1485,498.5313,1475,502.5313,1479,498.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1481" y1="498.5313" y2="498.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="493.6748">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="967" y="493.6748">getTestParameters()</text><path d="M849,513.5313 L922,513.5313 L922,521.5313 L912,531.5313 L849,531.5313 L849,513.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="749.5" x="849" y="513.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="864" y="528.0264">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="937" y="526.9502">[for test parameters results in test]</text><polygon fill="#A80036" points="1475,550.2344,1485,554.2344,1475,558.2344,1479,554.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1481" y1="554.2344" y2="554.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="549.3779">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="967" y="549.3779">getReferenceValue(testParam)</text><polygon fill="#A80036" points="90,587.5859,80,591.5859,90,595.5859,86,591.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="690" y1="591.5859" y2="591.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="96" y="586.7295">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="570" x="114" y="586.7295">shows the test's parameters results and test reference values and requests data (diagnosis, report)</text><polygon fill="#A80036" points="679,617.9375,689,621.9375,679,625.9375,683,621.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79" x2="685" y1="621.9375" y2="621.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="86" y="617.0811">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="104" y="617.0811">types the requested data</text><polygon fill="#A80036" points="930,648.2891,940,652.2891,930,656.2891,934,652.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691" x2="936" y1="652.2891" y2="652.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698" y="647.4326">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="716" y="647.4326">createReport(reportDTO)</text><polygon fill="#A80036" points="1147,678.6406,1157,682.6406,1147,686.6406,1151,682.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1153" y1="682.6406" y2="682.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="677.7842">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="967" y="677.7842">reportStore = getReportStore()</text><polygon fill="#A80036" points="2011,708.9922,2021,712.9922,2011,716.9922,2015,712.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="2017" y1="712.9922" y2="712.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="708.1357">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="967" y="708.1357">report = createReport(reportDTO)</text><polygon fill="#A80036" points="2215,739.3438,2225,743.3438,2215,747.3438,2219,743.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2023" x2="2221" y1="743.3438" y2="743.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2030" y="738.4873">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2048" y="738.4873">report = toModel(reportDTO)</text><polygon fill="#A80036" points="2602.5,769.6953,2612.5,773.6953,2602.5,777.6953,2606.5,773.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2227" x2="2608.5" y1="773.6953" y2="773.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2234" y="768.8389">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="2252" y="768.8389">textReport = getTextReport()</text><polygon fill="#A80036" points="2602.5,800.0469,2612.5,804.0469,2602.5,808.0469,2606.5,804.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2227" x2="2608.5" y1="804.0469" y2="804.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2234" y="799.1904">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="2252" y="799.1904">textDiagnosis = getTextDiagnosis()</text><polygon fill="#A80036" points="2448,830.3984,2458,834.3984,2448,838.3984,2452,834.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2227" x2="2454" y1="834.3984" y2="834.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2234" y="829.542">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="2252" y="829.542">create(textReport, textDiagnosis)</text><rect fill="#FEFECE" filter="url(#f1fdscwz0fa1mw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="57" x="2460" y="812.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="2467" y="833.5801">Report</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2490.5" x2="2532.5" y1="881.0078" y2="881.0078"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2532.5" x2="2532.5" y1="881.0078" y2="894.0078"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2491.5" x2="2532.5" y1="894.0078" y2="894.0078"/><polygon fill="#A80036" points="2501.5,890.0078,2491.5,894.0078,2501.5,898.0078,2497.5,894.0078" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2497.5" y="876.1514">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2515.5" y="876.1514">validateReport()</text><polygon fill="#A80036" points="90,920.3594,80,924.3594,90,928.3594,86,924.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="690" y1="924.3594" y2="924.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="96" y="919.5029">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="114" y="919.5029">shows the data and requests confirmation</text><polygon fill="#A80036" points="679,950.7109,689,954.7109,679,958.7109,683,954.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79" x2="685" y1="954.7109" y2="954.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="86" y="949.8545">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="104" y="949.8545">confirms</text><polygon fill="#A80036" points="930,981.0625,940,985.0625,930,989.0625,934,985.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691" x2="936" y1="985.0625" y2="985.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698" y="980.2061">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="716" y="980.2061">saveReport()</text><polygon fill="#A80036" points="1291,1011.4141,1301,1015.4141,1291,1019.4141,1295,1015.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942" x2="1297" y1="1015.4141" y2="1015.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="949" y="1010.5576">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="967" y="1010.5576">saveReport(test, report)</text><polygon fill="#A80036" points="1808,1041.7656,1818,1045.7656,1808,1049.7656,1812,1045.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1303" x2="1814" y1="1045.7656" y2="1045.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1310" y="1040.9092">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1328" y="1040.9092">addReport(report)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1820" x2="1862" y1="1076.1172" y2="1076.1172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1862" x2="1862" y1="1076.1172" y2="1089.1172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1821" x2="1862" y1="1089.1172" y2="1089.1172"/><polygon fill="#A80036" points="1831,1085.1172,1821,1089.1172,1831,1093.1172,1827,1089.1172" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1827" y="1071.2607">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1845" y="1071.2607">StateOfTest.REPORT_MADE</text><polygon fill="#A80036" points="90,1115.4688,80,1119.4688,90,1123.4688,86,1119.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="690" y1="1119.4688" y2="1119.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="96" y="1114.6123">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="114" y="1114.6123">informs operation success</text><!--MD5=[76d1291e878c80aa0cffa8af772c5d1d]
@startuml

autonumber

actor SpecialistDoctor as sd
participant CreateReportUI as crUI
participant CreateReportController as crC
participant Company as com
participant "testStore: TestStore" as ts
participant "testParamList: TestParamList" as tps
participant "testMapper: TestMapper" as tm
participant "test: Test" as t
participant "reportStore: ReportStore" as rs
participant "reportMapper: ReportMapper" as rm
participant Report as rep
participant "reportDTO: ReportDTO" as rdto




activate sd
sd -> crUI: starts new report
loop Until the Specialist Doctor doesn't want to write more reports
crUI -> crC: getTestsListReadyForReport()
crC -> com: testStore = getTestStore()
crC -> ts: testListReadyForReport = getTestsListReadyForReport()
crC -> tm: toDtoList(testListReadyForReport)
ref over tm : SD_TestListReadyForReportToDTO
crUI -[dashed]> sd: shows a list of tests ready to have a report and requests a test to be shown
deactivate crUI

sd -> crUI: types in the test result he wants to see (by its code)
crUI -> crC: getTestParametersByCode(testCode)
crC -> ts: test = getTestByCode(testCode)
crC -> t: testParamList = getTestParamList()
crC -> tps: getTestParameters()
loop for test parameters results in test
crC -> tps: getReferenceValue(testParam)
end loop

crUI -[dashed]> sd: shows the test's parameters results and test reference values and requests data (diagnosis, report)
deactivate crUI
sd -> crUI: types the requested data
crUI -> crC: createReport(reportDTO)
crC -> com: reportStore = getReportStore()
crC -> rs: report = createReport(reportDTO)
rs -> rm: report = toModel(reportDTO)
rm -> rdto: textReport = getTextReport()
rm -> rdto: textDiagnosis = getTextDiagnosis()

create rep
rm -> rep: create(textReport, textDiagnosis)
rep -> rep: validateReport()

crUI -[dashed]> sd: shows the data and requests confirmation
sd -> crUI: confirms
crUI -> crC: saveReport()
crC -> ts: saveReport(test, report)
ts -> t: addReport(report)
t -> t: StateOfTest.REPORT_MADE


crUI -[dashed]> sd: informs operation success
end loop

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>