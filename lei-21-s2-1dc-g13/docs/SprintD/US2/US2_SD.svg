<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1189px" preserveAspectRatio="none" style="width:1566px;height:1189px;" version="1.1" viewBox="0 0 1566 1189" width="1566px" zoomAndPan="magnify"><defs><filter height="300%" id="fw9e0f5amxgum" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="995.4375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="322.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="499.7734"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="37.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="560.4766"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="457.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="628.1797"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="261.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="509" y="152.3125"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="176.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="509" y="718.8828"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="657.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="657.5" y="749.2344"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="268.0156"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="895.2891"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="977" y="353.3672"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1228" y="383.7188"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1228" y="658.5313"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="117.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1363" y="968.9922"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1486" y="834.5859"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="109.4063" style="stroke:#000000;stroke-width:2.0;" width="406.5" x="10" y="459.0703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="333.5" x2="333.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="513.5" x2="513.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="662.5" x2="662.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="794.5" x2="794.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="981.5" x2="981.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1232.5" x2="1232.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1367.5" x2="1367.5" y1="89.6094" y2="1104.0469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1490.5" x2="1490.5" y1="89.6094" y2="1104.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="86.5332">Client</text><ellipse cx="41" cy="15" fill="#FEFECE" filter="url(#fw9e0f5amxgum)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,23 L41,50 M28,31 L54,31 M41,50 L28,65 M41,50 L54,65 " fill="none" filter="url(#fw9e0f5amxgum)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="1117.5801">Client</text><ellipse cx="41" cy="1130.6563" fill="#FEFECE" filter="url(#fw9e0f5amxgum)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,1138.6563 L41,1165.6563 M28,1146.6563 L54,1146.6563 M41,1165.6563 L28,1180.6563 M41,1165.6563 L54,1180.6563 " fill="none" filter="url(#fw9e0f5amxgum)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="261.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="268.5" y="74.5332">:UpdateClientDataUI</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="261.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="268.5" y="1124.5801">:UpdateClientDataUI</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="191" x="416.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="423.5" y="74.5332">:UpdateClientDataController</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="191" x="416.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="423.5" y="1124.5801">:UpdateClientDataController</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="621.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="628.5" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="621.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="628.5" y="1124.5801">:Company</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="713.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="720.5" y="74.5332">clientStore: ClientStore</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="713.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="720.5" y="1124.5801">clientStore: ClientStore</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="886.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="893.5" y="74.5332">clientMapper: ClientMapper</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="886.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="893.5" y="1124.5801">clientMapper: ClientMapper</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="151" x="1155.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1162.5" y="74.5332">clientDTO: ClientDTO</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="151" x="1155.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1162.5" y="1124.5801">clientDTO: ClientDTO</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1320.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1327.5" y="74.5332">client: Client</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1320.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1327.5" y="1124.5801">client: Client</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1425.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1432.5" y="74.5332">auth: AuthFacade</text><rect fill="#FEFECE" filter="url(#fw9e0f5amxgum)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1425.5" y="1103.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1432.5" y="1124.5801">auth: AuthFacade</text><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="995.4375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="322.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="499.7734"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="37.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="560.4766"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="457.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="329" y="628.1797"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="261.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="509" y="152.3125"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="176.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="509" y="718.8828"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="657.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="657.5" y="749.2344"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="268.0156"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="895.2891"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="977" y="353.3672"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1228" y="383.7188"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1228" y="658.5313"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="117.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1363" y="968.9922"/><rect fill="#FFFFFF" filter="url(#fw9e0f5amxgum)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1486" y="834.5859"/><polygon fill="#A80036" points="317,117.9609,327,121.9609,317,125.9609,321,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="323" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="64" y="117.1045">starts personal data update</text><polygon fill="#A80036" points="497,148.3125,507,152.3125,497,156.3125,501,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="503" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="346" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="357" y="147.4561">getClient(email)</text><polygon fill="#A80036" points="645.5,178.6641,655.5,182.6641,645.5,186.6641,649.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="519" x2="651.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="526" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="537" y="177.8076">getClientStore()</text><polygon fill="#A80036" points="778,264.0156,788,268.0156,778,272.0156,782,268.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="519" x2="784" y1="268.0156" y2="268.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="526" y="263.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="537" y="263.1592">client = getClientByEmail(email)</text><polygon fill="#A80036" points="965,349.3672,975,353.3672,965,357.3672,969,353.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="519" x2="971" y1="353.3672" y2="353.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="526" y="348.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="537" y="348.5107">toDTO(client)</text><polygon fill="#A80036" points="1216,379.7188,1226,383.7188,1216,387.7188,1220,383.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="987" x2="1222" y1="383.7188" y2="383.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="994" y="378.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="1005" y="378.8623">create(name, cardNumber, TIN, etc.)</text><polygon fill="#A80036" points="57,440.0703,47,444.0703,57,448.0703,53,444.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="333" y1="444.0703" y2="444.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="439.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="74" y="439.2139">displays client data</text><path d="M10,459.0703 L83,459.0703 L83,467.0703 L73,477.0703 L10,477.0703 L10,459.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="109.4063" style="stroke:#000000;stroke-width:2.0;" width="406.5" x="10" y="459.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="473.5654">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="98" y="472.4893">[until client finishes editing]</text><polygon fill="#A80036" points="317,495.7734,327,499.7734,317,503.7734,321,499.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="323" y1="499.7734" y2="499.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="494.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="64" y="494.917">selects data to edit</text><polygon fill="#A80036" points="57,526.125,47,530.125,57,534.125,53,530.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="333" y1="530.125" y2="530.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="525.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="74" y="525.2686">requests new data</text><polygon fill="#A80036" points="317,556.4766,327,560.4766,317,564.4766,321,560.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="323" y1="560.4766" y2="560.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="555.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="71" y="555.6201">types requested data</text><polygon fill="#A80036" points="57,593.8281,47,597.8281,57,601.8281,53,597.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="333" y1="597.8281" y2="597.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="592.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="81" y="592.9717">shows the data and requests confirmation</text><polygon fill="#A80036" points="317,624.1797,327,628.1797,317,632.1797,321,628.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="323" y1="628.1797" y2="628.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="623.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="71" y="623.3232">confirms the data</text><polygon fill="#A80036" points="1216,654.5313,1226,658.5313,1216,662.5313,1220,658.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="1222" y1="658.5313" y2="658.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="346" y="653.6748">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="364" y="653.6748">dto = create(name, cardNumber, TIN, etc.)</text><polygon fill="#A80036" points="497,714.8828,507,718.8828,497,722.8828,501,718.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339" x2="503" y1="718.8828" y2="718.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="346" y="714.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="364" y="714.0264">updateClientData(dto)</text><polygon fill="#A80036" points="645.5,745.2344,655.5,749.2344,645.5,753.2344,649.5,749.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="519" x2="651.5" y1="749.2344" y2="749.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="526" y="744.3779">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="544" y="744.3779">getAuthFacade()</text><polygon fill="#A80036" points="1474,830.5859,1484,834.5859,1474,838.5859,1478,834.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="519" x2="1480" y1="834.5859" y2="834.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="526" y="829.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="544" y="829.7295">changeUserEmail(oldEmail, newEmail)</text><polygon fill="#A80036" points="1479,860.9375,1489,864.9375,1479,868.9375,1483,864.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="519" x2="1485" y1="864.9375" y2="864.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="526" y="860.0811">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="544" y="860.0811">changeUserPassword(email, pwd)</text><polygon fill="#A80036" points="778,891.2891,788,895.2891,778,899.2891,782,895.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="514" x2="784" y1="895.2891" y2="895.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="521" y="890.4326">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="539" y="890.4326">updateClientData(client, dto)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="800" x2="842" y1="925.6406" y2="925.6406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="842" x2="842" y1="925.6406" y2="938.6406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="801" x2="842" y1="938.6406" y2="938.6406"/><polygon fill="#A80036" points="811,934.6406,801,938.6406,811,942.6406,807,938.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="807" y="920.7842">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="825" y="920.7842">validateData(client, dto)</text><polygon fill="#A80036" points="1351,964.9922,1361,968.9922,1351,972.9922,1355,968.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="795" x2="1357" y1="968.9922" y2="968.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="802" y="964.1357">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="820" y="964.1357">updateData(dto)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1373" x2="1415" y1="999.3438" y2="999.3438"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1415" x2="1415" y1="999.3438" y2="1012.3438"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1374" x2="1415" y1="1012.3438" y2="1012.3438"/><polygon fill="#A80036" points="1384,1008.3438,1374,1012.3438,1384,1016.3438,1380,1012.3438" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1380" y="994.4873">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1398" y="994.4873">validateData()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1373" x2="1415" y1="1042.6953" y2="1042.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1415" x2="1415" y1="1042.6953" y2="1055.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1374" x2="1415" y1="1055.6953" y2="1055.6953"/><polygon fill="#A80036" points="1384,1051.6953,1374,1055.6953,1384,1059.6953,1380,1055.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1380" y="1037.8389">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1398" y="1037.8389">setData()</text><polygon fill="#A80036" points="57,1082.0469,47,1086.0469,57,1090.0469,53,1086.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="333" y1="1086.0469" y2="1086.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="1081.1904">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="81" y="1081.1904">informs operation success</text><!--MD5=[e836120fd68d51527b0408737747b210]
@startuml
autonumber

actor Client as cli
participant ":UpdateClientDataUI" as ui
participant ":UpdateClientDataController" as controller
participant ":Company" as company
participant "clientStore: ClientStore" as cstore
participant "clientMapper: ClientMapper" as cmapper
participant "clientDTO: ClientDTO" as dto
participant "client: Client" as client
participant "auth: AuthFacade" as auth


activate cli
cli -> ui : starts personal data update
activate ui
ui -> controller : getClient(email)
activate controller
controller -> company : getClientStore()
activate company
|||
deactivate company
controller -> cstore : client = getClientByEmail(email)
activate cstore
|||
deactivate cstore
controller -> cmapper : toDTO(client)
activate cmapper
cmapper -> dto : create(name, cardNumber, TIN, etc.)
activate dto
deactivate dto
deactivate cmapper
deactivate controller
ui - -> cli : displays client data
deactivate ui
loop until client finishes editing
cli -> ui :  selects data to edit
activate ui
ui - -> cli : requests new data
deactivate ui
cli -> ui :  types requested data
activate ui
end loop
activate ui
ui - -> cli : shows the data and requests confirmation
deactivate ui
cli -> ui :  confirms the data
activate ui
ui -> dto: dto = create(name, cardNumber, TIN, etc.)
activate dto
deactivate dto
ui -> controller: updateClientData(dto)
activate controller
controller -> company: getAuthFacade()
activate company
|||
deactivate company
controller -> auth: changeUserEmail(oldEmail, newEmail)
activate auth
controller -> auth: changeUserPassword(email, pwd)
deactivate auth
controller -> cstore: updateClientData(client, dto)
deactivate controller
activate cstore
cstore -> cstore : validateData(client, dto)
cstore -> client : updateData(dto)
deactivate cstore
activate client
client -> client : validateData()
client -> client : setData()
ui - -> cli : informs operation success
deactivate client
deactivate ui
@enduml

PlantUML version 1.2021.2(Sun Mar 07 11:10:27 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>