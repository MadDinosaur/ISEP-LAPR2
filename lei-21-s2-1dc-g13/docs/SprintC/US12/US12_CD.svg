<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1649px" preserveAspectRatio="none" style="width:1495px;height:1649px;" version="1.1" viewBox="0 0 1495 1649" width="1495px" zoomAndPan="magnify"><defs><filter height="300%" id="f186knceyf1w7d" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[02e4b9b7573f1156f41e60aa5b4e25a4]
class Company--><rect codeLine="2" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="Company" style="stroke:#A80036;stroke-width:1.5;" width="88" x="598" y="143.5"/><ellipse cx="614.35" cy="159.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M616.35,156 Q616.5531,155.5 616.7875,155.25 Q617.0219,155 617.2875,155 Q617.7563,155 618.0531,155.2813 Q618.35,155.5625 618.35,156.2188 L618.35,157.7813 Q618.35,158.4375 618.0688,158.7188 Q617.7875,159 617.35,159 Q616.9594,159 616.7094,158.8281 Q616.4594,158.6563 616.35,158.2031 Q616.3031,157.8906 616.1313,157.7188 Q615.8188,157.3906 615.2563,157.2031 Q614.6938,157 614.1313,157 Q613.4281,157 612.8344,157.2813 Q612.2563,157.5625 611.8031,158.1875 Q611.35,158.8125 611.35,159.6719 L611.35,160.5938 Q611.35,161.625 612.1938,162.3125 Q613.0375,163 614.5375,163 Q615.4281,163 616.0531,162.7969 Q616.4125,162.6875 616.8188,162.3281 Q617.0844,162.125 617.225,162.0625 Q617.3656,162 617.5375,162 Q617.8656,162 618.1,162.2656 Q618.35,162.5156 618.35,162.875 Q618.35,163.2188 618.0063,163.625 Q617.5063,164.2188 616.7094,164.5469 Q615.6625,165 614.3813,165 Q612.8813,165 611.6781,164.4063 Q610.7094,163.9375 610.0219,162.9219 Q609.35,161.9063 609.35,160.7031 L609.35,159.6094 Q609.35,158.3594 609.9438,157.2656 Q610.5531,156.1719 611.6,155.5938 Q612.6625,155 613.85,155 Q614.5688,155 615.1938,155.25 Q615.8188,155.5 616.35,156 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="628.65" y="164.4102">Company</text><line style="stroke:#A80036;stroke-width:1.5;" x1="599" x2="685" y1="175.5" y2="175.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="599" x2="685" y1="183.5" y2="183.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="604" y="198.9189">+getTestStore()</text><!--MD5=[df38be88ccee13e832d6fafd6288a4ca]
class Test--><rect codeLine="5" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="117.1797" id="Test" style="stroke:#A80036;stroke-width:1.5;" width="118" x="569" y="492"/><ellipse cx="611.9" cy="508" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M613.9,504.5 Q614.1031,504 614.3375,503.75 Q614.5719,503.5 614.8375,503.5 Q615.3063,503.5 615.6031,503.7813 Q615.9,504.0625 615.9,504.7188 L615.9,506.2813 Q615.9,506.9375 615.6188,507.2188 Q615.3375,507.5 614.9,507.5 Q614.5094,507.5 614.2594,507.3281 Q614.0094,507.1563 613.9,506.7031 Q613.8531,506.3906 613.6813,506.2188 Q613.3688,505.8906 612.8063,505.7031 Q612.2438,505.5 611.6813,505.5 Q610.9781,505.5 610.3844,505.7813 Q609.8063,506.0625 609.3531,506.6875 Q608.9,507.3125 608.9,508.1719 L608.9,509.0938 Q608.9,510.125 609.7438,510.8125 Q610.5875,511.5 612.0875,511.5 Q612.9781,511.5 613.6031,511.2969 Q613.9625,511.1875 614.3688,510.8281 Q614.6344,510.625 614.775,510.5625 Q614.9156,510.5 615.0875,510.5 Q615.4156,510.5 615.65,510.7656 Q615.9,511.0156 615.9,511.375 Q615.9,511.7188 615.5563,512.125 Q615.0563,512.7188 614.2594,513.0469 Q613.2125,513.5 611.9313,513.5 Q610.4313,513.5 609.2281,512.9063 Q608.2594,512.4375 607.5719,511.4219 Q606.9,510.4063 606.9,509.2031 L606.9,508.1094 Q606.9,506.8594 607.4938,505.7656 Q608.1031,504.6719 609.15,504.0938 Q610.2125,503.5 611.4,503.5 Q612.1188,503.5 612.7438,503.75 Q613.3688,504 613.9,504.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="632.1" y="512.9102">Test</text><line style="stroke:#A80036;stroke-width:1.5;" x1="570" x2="686" y1="524" y2="524"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="575" y="539.4189">-code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="575" y="553.2549">-NhsCode</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="575" y="567.0908">-createdAt</text><line style="stroke:#A80036;stroke-width:1.5;" x1="570" x2="686" y1="573.5078" y2="573.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="575" y="588.9268">+getTestParamStore()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="575" y="602.7627">+getSampleStore()</text><!--MD5=[fcd6df96e169c9fc6403c4dc9bdb4d83]
class SampleStore--><rect codeLine="12" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="SampleStore" style="stroke:#A80036;stroke-width:1.5;" width="130" x="374" y="519.5"/><ellipse cx="400.7" cy="535.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M402.7,532 Q402.9031,531.5 403.1375,531.25 Q403.3719,531 403.6375,531 Q404.1063,531 404.4031,531.2813 Q404.7,531.5625 404.7,532.2188 L404.7,533.7813 Q404.7,534.4375 404.4188,534.7188 Q404.1375,535 403.7,535 Q403.3094,535 403.0594,534.8281 Q402.8094,534.6563 402.7,534.2031 Q402.6531,533.8906 402.4813,533.7188 Q402.1688,533.3906 401.6063,533.2031 Q401.0438,533 400.4813,533 Q399.7781,533 399.1844,533.2813 Q398.6063,533.5625 398.1531,534.1875 Q397.7,534.8125 397.7,535.6719 L397.7,536.5938 Q397.7,537.625 398.5438,538.3125 Q399.3875,539 400.8875,539 Q401.7781,539 402.4031,538.7969 Q402.7625,538.6875 403.1688,538.3281 Q403.4344,538.125 403.575,538.0625 Q403.7156,538 403.8875,538 Q404.2156,538 404.45,538.2656 Q404.7,538.5156 404.7,538.875 Q404.7,539.2188 404.3563,539.625 Q403.8563,540.2188 403.0594,540.5469 Q402.0125,541 400.7313,541 Q399.2313,541 398.0281,540.4063 Q397.0594,539.9375 396.3719,538.9219 Q395.7,537.9063 395.7,536.7031 L395.7,535.6094 Q395.7,534.3594 396.2938,533.2656 Q396.9031,532.1719 397.95,531.5938 Q399.0125,531 400.2,531 Q400.9188,531 401.5438,531.25 Q402.1688,531.5 402.7,532 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="417.3" y="540.4102">SampleStore</text><line style="stroke:#A80036;stroke-width:1.5;" x1="375" x2="503" y1="551.5" y2="551.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="375" x2="503" y1="559.5" y2="559.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="380" y="574.9189">+existsSample(barcode)</text><!--MD5=[8430d756d8fe5ab583eb0b9ee14f4491]
class TestParameterStore--><rect codeLine="15" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="89.5078" id="TestParameterStore" style="stroke:#A80036;stroke-width:1.5;" width="280" x="488" y="693.5"/><ellipse cx="568.25" cy="709.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M570.25,706 Q570.4531,705.5 570.6875,705.25 Q570.9219,705 571.1875,705 Q571.6563,705 571.9531,705.2813 Q572.25,705.5625 572.25,706.2188 L572.25,707.7813 Q572.25,708.4375 571.9688,708.7188 Q571.6875,709 571.25,709 Q570.8594,709 570.6094,708.8281 Q570.3594,708.6563 570.25,708.2031 Q570.2031,707.8906 570.0313,707.7188 Q569.7188,707.3906 569.1563,707.2031 Q568.5938,707 568.0313,707 Q567.3281,707 566.7344,707.2813 Q566.1563,707.5625 565.7031,708.1875 Q565.25,708.8125 565.25,709.6719 L565.25,710.5938 Q565.25,711.625 566.0938,712.3125 Q566.9375,713 568.4375,713 Q569.3281,713 569.9531,712.7969 Q570.3125,712.6875 570.7188,712.3281 Q570.9844,712.125 571.125,712.0625 Q571.2656,712 571.4375,712 Q571.7656,712 572,712.2656 Q572.25,712.5156 572.25,712.875 Q572.25,713.2188 571.9063,713.625 Q571.4063,714.2188 570.6094,714.5469 Q569.5625,715 568.2813,715 Q566.7813,715 565.5781,714.4063 Q564.6094,713.9375 563.9219,712.9219 Q563.25,711.9063 563.25,710.7031 L563.25,709.6094 Q563.25,708.3594 563.8438,707.2656 Q564.4531,706.1719 565.5,705.5938 Q566.5625,705 567.75,705 Q568.4688,705 569.0938,705.25 Q569.7188,705.5 570.25,706 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="588.75" y="714.4102">TestParameterStore</text><line style="stroke:#A80036;stroke-width:1.5;" x1="489" x2="767" y1="725.5" y2="725.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="489" x2="767" y1="733.5" y2="733.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="494" y="748.9189">-getTestParameter(paramCode)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="494" y="762.7549">+getParameters()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="268" x="494" y="776.5908">+createTestParameterResult(paramCode, result, metric)</text><!--MD5=[aeb3272166074d8737a70b61b1e71682]
class TestType--><rect codeLine="20" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="103.3438" id="TestType" style="stroke:#A80036;stroke-width:1.5;" width="114" x="326" y="687"/><ellipse cx="355.4" cy="703" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M357.4,699.5 Q357.6031,699 357.8375,698.75 Q358.0719,698.5 358.3375,698.5 Q358.8063,698.5 359.1031,698.7813 Q359.4,699.0625 359.4,699.7188 L359.4,701.2813 Q359.4,701.9375 359.1188,702.2188 Q358.8375,702.5 358.4,702.5 Q358.0094,702.5 357.7594,702.3281 Q357.5094,702.1563 357.4,701.7031 Q357.3531,701.3906 357.1813,701.2188 Q356.8688,700.8906 356.3063,700.7031 Q355.7438,700.5 355.1813,700.5 Q354.4781,700.5 353.8844,700.7813 Q353.3063,701.0625 352.8531,701.6875 Q352.4,702.3125 352.4,703.1719 L352.4,704.0938 Q352.4,705.125 353.2438,705.8125 Q354.0875,706.5 355.5875,706.5 Q356.4781,706.5 357.1031,706.2969 Q357.4625,706.1875 357.8688,705.8281 Q358.1344,705.625 358.275,705.5625 Q358.4156,705.5 358.5875,705.5 Q358.9156,705.5 359.15,705.7656 Q359.4,706.0156 359.4,706.375 Q359.4,706.7188 359.0563,707.125 Q358.5563,707.7188 357.7594,708.0469 Q356.7125,708.5 355.4313,708.5 Q353.9313,708.5 352.7281,707.9063 Q351.7594,707.4375 351.0719,706.4219 Q350.4,705.4063 350.4,704.2031 L350.4,703.1094 Q350.4,701.8594 350.9938,700.7656 Q351.6031,699.6719 352.65,699.0938 Q353.7125,698.5 354.9,698.5 Q355.6188,698.5 356.2438,698.75 Q356.8688,699 357.4,699.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="372.6" y="707.9102">TestType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="327" x2="439" y1="719" y2="719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="332" y="734.4189">-code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="332" y="748.2549">-description</text><line style="stroke:#A80036;stroke-width:1.5;" x1="327" x2="439" y1="754.6719" y2="754.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="332" y="770.0908">+getExternalModule()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="332" y="783.9268">+getParameters()</text><!--MD5=[0f07739f46effee96e095e9c408da841]
class TestParameter--><rect codeLine="26" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="75.6719" id="TestParameter" style="stroke:#A80036;stroke-width:1.5;" width="267" x="494.5" y="875"/><ellipse cx="582.75" cy="891" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M584.75,887.5 Q584.9531,887 585.1875,886.75 Q585.4219,886.5 585.6875,886.5 Q586.1563,886.5 586.4531,886.7813 Q586.75,887.0625 586.75,887.7188 L586.75,889.2813 Q586.75,889.9375 586.4688,890.2188 Q586.1875,890.5 585.75,890.5 Q585.3594,890.5 585.1094,890.3281 Q584.8594,890.1563 584.75,889.7031 Q584.7031,889.3906 584.5313,889.2188 Q584.2188,888.8906 583.6563,888.7031 Q583.0938,888.5 582.5313,888.5 Q581.8281,888.5 581.2344,888.7813 Q580.6563,889.0625 580.2031,889.6875 Q579.75,890.3125 579.75,891.1719 L579.75,892.0938 Q579.75,893.125 580.5938,893.8125 Q581.4375,894.5 582.9375,894.5 Q583.8281,894.5 584.4531,894.2969 Q584.8125,894.1875 585.2188,893.8281 Q585.4844,893.625 585.625,893.5625 Q585.7656,893.5 585.9375,893.5 Q586.2656,893.5 586.5,893.7656 Q586.75,894.0156 586.75,894.375 Q586.75,894.7188 586.4063,895.125 Q585.9063,895.7188 585.1094,896.0469 Q584.0625,896.5 582.7813,896.5 Q581.2813,896.5 580.0781,895.9063 Q579.1094,895.4375 578.4219,894.4219 Q577.75,893.4063 577.75,892.2031 L577.75,891.1094 Q577.75,889.8594 578.3438,888.7656 Q578.9531,887.6719 580,887.0938 Q581.0625,886.5 582.25,886.5 Q582.9688,886.5 583.5938,886.75 Q584.2188,887 584.75,887.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="603.25" y="895.9102">TestParameter</text><line style="stroke:#A80036;stroke-width:1.5;" x1="495.5" x2="760.5" y1="907" y2="907"/><line style="stroke:#A80036;stroke-width:1.5;" x1="495.5" x2="760.5" y1="915" y2="915"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="500.5" y="930.4189">+getParameter()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="255" x="500.5" y="944.2549">+createTestParameterResult(result, metric, refValue)</text><!--MD5=[0f6f7964b844a64b0496af0dda7914bd]
class TestStore--><rect codeLine="30" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="103.3438" id="TestStore" style="stroke:#A80036;stroke-width:1.5;" width="304" x="486" y="311"/><ellipse cx="607.25" cy="327" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M609.25,323.5 Q609.4531,323 609.6875,322.75 Q609.9219,322.5 610.1875,322.5 Q610.6563,322.5 610.9531,322.7813 Q611.25,323.0625 611.25,323.7188 L611.25,325.2813 Q611.25,325.9375 610.9688,326.2188 Q610.6875,326.5 610.25,326.5 Q609.8594,326.5 609.6094,326.3281 Q609.3594,326.1563 609.25,325.7031 Q609.2031,325.3906 609.0313,325.2188 Q608.7188,324.8906 608.1563,324.7031 Q607.5938,324.5 607.0313,324.5 Q606.3281,324.5 605.7344,324.7813 Q605.1563,325.0625 604.7031,325.6875 Q604.25,326.3125 604.25,327.1719 L604.25,328.0938 Q604.25,329.125 605.0938,329.8125 Q605.9375,330.5 607.4375,330.5 Q608.3281,330.5 608.9531,330.2969 Q609.3125,330.1875 609.7188,329.8281 Q609.9844,329.625 610.125,329.5625 Q610.2656,329.5 610.4375,329.5 Q610.7656,329.5 611,329.7656 Q611.25,330.0156 611.25,330.375 Q611.25,330.7188 610.9063,331.125 Q610.4063,331.7188 609.6094,332.0469 Q608.5625,332.5 607.2813,332.5 Q605.7813,332.5 604.5781,331.9063 Q603.6094,331.4375 602.9219,330.4219 Q602.25,329.4063 602.25,328.2031 L602.25,327.1094 Q602.25,325.8594 602.8438,324.7656 Q603.4531,323.6719 604.5,323.0938 Q605.5625,322.5 606.75,322.5 Q607.4688,322.5 608.0938,322.75 Q608.7188,323 609.25,323.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="627.75" y="331.9102">TestStore</text><line style="stroke:#A80036;stroke-width:1.5;" x1="487" x2="789" y1="343" y2="343"/><line style="stroke:#A80036;stroke-width:1.5;" x1="487" x2="789" y1="351" y2="351"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="162" x="492" y="366.4189">+getTestsWithCollectedSamples()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="492" y="380.2549">+getTestBySampleBarcode(barcode)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="492" y="394.0908">+getTestParameters(test)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="292" x="492" y="407.9268">+createTestParameterResult(test, paramCode, result, metric)</text><!--MD5=[1f6362a5c8f21d8d6a0fce68f3a92a4e]
class Parameter--><rect codeLine="36" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="89.5078" id="Parameter" style="stroke:#A80036;stroke-width:1.5;" width="90" x="257" y="868"/><ellipse cx="272" cy="884" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M274,880.5 Q274.2031,880 274.4375,879.75 Q274.6719,879.5 274.9375,879.5 Q275.4063,879.5 275.7031,879.7813 Q276,880.0625 276,880.7188 L276,882.2813 Q276,882.9375 275.7188,883.2188 Q275.4375,883.5 275,883.5 Q274.6094,883.5 274.3594,883.3281 Q274.1094,883.1563 274,882.7031 Q273.9531,882.3906 273.7813,882.2188 Q273.4688,881.8906 272.9063,881.7031 Q272.3438,881.5 271.7813,881.5 Q271.0781,881.5 270.4844,881.7813 Q269.9063,882.0625 269.4531,882.6875 Q269,883.3125 269,884.1719 L269,885.0938 Q269,886.125 269.8438,886.8125 Q270.6875,887.5 272.1875,887.5 Q273.0781,887.5 273.7031,887.2969 Q274.0625,887.1875 274.4688,886.8281 Q274.7344,886.625 274.875,886.5625 Q275.0156,886.5 275.1875,886.5 Q275.5156,886.5 275.75,886.7656 Q276,887.0156 276,887.375 Q276,887.7188 275.6563,888.125 Q275.1563,888.7188 274.3594,889.0469 Q273.3125,889.5 272.0313,889.5 Q270.5313,889.5 269.3281,888.9063 Q268.3594,888.4375 267.6719,887.4219 Q267,886.4063 267,885.2031 L267,884.1094 Q267,882.8594 267.5938,881.7656 Q268.2031,880.6719 269.25,880.0938 Q270.3125,879.5 271.5,879.5 Q272.2188,879.5 272.8438,879.75 Q273.4688,880 274,880.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="286" y="888.9102">Parameter</text><line style="stroke:#A80036;stroke-width:1.5;" x1="258" x2="346" y1="900" y2="900"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="263" y="915.4189">-code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="263" y="929.2549">-shortName</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="263" y="943.0908">-description</text><line style="stroke:#A80036;stroke-width:1.5;" x1="258" x2="346" y1="949.5078" y2="949.5078"/><!--MD5=[1c357e7e7fdba398bcadd6e61afe49f5]
class ReferenceValue--><rect codeLine="41" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="103.3438" id="ReferenceValue" style="stroke:#A80036;stroke-width:1.5;" width="238" x="509" y="1259"/><ellipse cx="579.75" cy="1275" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M581.75,1271.5 Q581.9531,1271 582.1875,1270.75 Q582.4219,1270.5 582.6875,1270.5 Q583.1563,1270.5 583.4531,1270.7813 Q583.75,1271.0625 583.75,1271.7188 L583.75,1273.2813 Q583.75,1273.9375 583.4688,1274.2188 Q583.1875,1274.5 582.75,1274.5 Q582.3594,1274.5 582.1094,1274.3281 Q581.8594,1274.1563 581.75,1273.7031 Q581.7031,1273.3906 581.5313,1273.2188 Q581.2188,1272.8906 580.6563,1272.7031 Q580.0938,1272.5 579.5313,1272.5 Q578.8281,1272.5 578.2344,1272.7813 Q577.6563,1273.0625 577.2031,1273.6875 Q576.75,1274.3125 576.75,1275.1719 L576.75,1276.0938 Q576.75,1277.125 577.5938,1277.8125 Q578.4375,1278.5 579.9375,1278.5 Q580.8281,1278.5 581.4531,1278.2969 Q581.8125,1278.1875 582.2188,1277.8281 Q582.4844,1277.625 582.625,1277.5625 Q582.7656,1277.5 582.9375,1277.5 Q583.2656,1277.5 583.5,1277.7656 Q583.75,1278.0156 583.75,1278.375 Q583.75,1278.7188 583.4063,1279.125 Q582.9063,1279.7188 582.1094,1280.0469 Q581.0625,1280.5 579.7813,1280.5 Q578.2813,1280.5 577.0781,1279.9063 Q576.1094,1279.4375 575.4219,1278.4219 Q574.75,1277.4063 574.75,1276.2031 L574.75,1275.1094 Q574.75,1273.8594 575.3438,1272.7656 Q575.9531,1271.6719 577,1271.0938 Q578.0625,1270.5 579.25,1270.5 Q579.9688,1270.5 580.5938,1270.75 Q581.2188,1271 581.75,1271.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="600.25" y="1279.9102">ReferenceValue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="510" x2="746" y1="1291" y2="1291"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="515" y="1306.4189">-minValue</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="515" y="1320.2549">-maxValue</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="515" y="1334.0908">-metric</text><line style="stroke:#A80036;stroke-width:1.5;" x1="510" x2="746" y1="1340.5078" y2="1340.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="226" x="515" y="1355.9268">+ReferenceValue(minValue, maxValue, metric)</text><!--MD5=[4e608140b854dae633589343bce77383]
class TestParameterResult--><rect codeLine="47" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="144.8516" id="TestParameterResult" style="stroke:#A80036;stroke-width:1.5;" width="235" x="510.5" y="1036"/><ellipse cx="564.75" cy="1052" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M566.75,1048.5 Q566.9531,1048 567.1875,1047.75 Q567.4219,1047.5 567.6875,1047.5 Q568.1563,1047.5 568.4531,1047.7813 Q568.75,1048.0625 568.75,1048.7188 L568.75,1050.2813 Q568.75,1050.9375 568.4688,1051.2188 Q568.1875,1051.5 567.75,1051.5 Q567.3594,1051.5 567.1094,1051.3281 Q566.8594,1051.1563 566.75,1050.7031 Q566.7031,1050.3906 566.5313,1050.2188 Q566.2188,1049.8906 565.6563,1049.7031 Q565.0938,1049.5 564.5313,1049.5 Q563.8281,1049.5 563.2344,1049.7813 Q562.6563,1050.0625 562.2031,1050.6875 Q561.75,1051.3125 561.75,1052.1719 L561.75,1053.0938 Q561.75,1054.125 562.5938,1054.8125 Q563.4375,1055.5 564.9375,1055.5 Q565.8281,1055.5 566.4531,1055.2969 Q566.8125,1055.1875 567.2188,1054.8281 Q567.4844,1054.625 567.625,1054.5625 Q567.7656,1054.5 567.9375,1054.5 Q568.2656,1054.5 568.5,1054.7656 Q568.75,1055.0156 568.75,1055.375 Q568.75,1055.7188 568.4063,1056.125 Q567.9063,1056.7188 567.1094,1057.0469 Q566.0625,1057.5 564.7813,1057.5 Q563.2813,1057.5 562.0781,1056.9063 Q561.1094,1056.4375 560.4219,1055.4219 Q559.75,1054.4063 559.75,1053.2031 L559.75,1052.1094 Q559.75,1050.8594 560.3438,1049.7656 Q560.9531,1048.6719 562,1048.0938 Q563.0625,1047.5 564.25,1047.5 Q564.9688,1047.5 565.5938,1047.75 Q566.2188,1048 566.75,1048.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="585.25" y="1056.9102">TestParameterResult</text><line style="stroke:#A80036;stroke-width:1.5;" x1="511.5" x2="744.5" y1="1068" y2="1068"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="516.5" y="1083.4189">-createdAt</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="516.5" y="1097.2549">-value</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="516.5" y="1111.0908">-metric</text><line style="stroke:#A80036;stroke-width:1.5;" x1="511.5" x2="744.5" y1="1117.5078" y2="1117.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="223" x="516.5" y="1132.9268">+TestParameterResult(value, metric, refValue)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="516.5" y="1146.7627">-validateValue()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="516.5" y="1160.5986">-validateMetric()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="516.5" y="1174.4346">-validateRefValue()</text><!--MD5=[8f188b89eff49accb0f38c057b38a9f2]
class ExternalModule--><rect codeLine="56" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="ExternalModule" style="stroke:#A80036;stroke-width:1.5;" width="284" x="782" y="1279.5"/><ellipse cx="877.25" cy="1295.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M878.25,1292.5 L878.25,1298.5 L880.25,1298.5 L880.7344,1298.5 L881.25,1299.125 L881.25,1299.5 L881.25,1299.875 L880.7344,1300.5 L880.25,1300.5 L874.25,1300.5 L873.7656,1300.5 L873.25,1299.875 L873.25,1299.5 L873.25,1299.125 L873.7656,1298.5 L874.25,1298.5 L876.25,1298.5 L876.25,1292.5 L874.25,1292.5 L873.7656,1292.5 L873.25,1291.875 L873.25,1291.5 L873.25,1291.125 L873.7656,1290.5 L874.25,1290.5 L880.25,1290.5 L880.7344,1290.5 L881.25,1291.125 L881.25,1291.5 L881.25,1291.875 L880.7344,1292.5 L880.25,1292.5 L878.25,1292.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="85" x="897.75" y="1300.4102">ExternalModule</text><line style="stroke:#A80036;stroke-width:1.5;" x1="783" x2="1065" y1="1311.5" y2="1311.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="783" x2="1065" y1="1319.5" y2="1319.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="788" y="1334.9189">+ReferenceValue getReferenceValue(Parameter param)</text><!--MD5=[0f11f0f60ee567100a99d4d7b98e8e2f]
class ExternalModuleAdapter1--><rect codeLine="59" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="ExternalModuleAdapter1" style="stroke:#A80036;stroke-width:1.5;" width="288" x="407" y="1423"/><ellipse cx="480.25" cy="1439" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M482.25,1435.5 Q482.4531,1435 482.6875,1434.75 Q482.9219,1434.5 483.1875,1434.5 Q483.6563,1434.5 483.9531,1434.7813 Q484.25,1435.0625 484.25,1435.7188 L484.25,1437.2813 Q484.25,1437.9375 483.9688,1438.2188 Q483.6875,1438.5 483.25,1438.5 Q482.8594,1438.5 482.6094,1438.3281 Q482.3594,1438.1563 482.25,1437.7031 Q482.2031,1437.3906 482.0313,1437.2188 Q481.7188,1436.8906 481.1563,1436.7031 Q480.5938,1436.5 480.0313,1436.5 Q479.3281,1436.5 478.7344,1436.7813 Q478.1563,1437.0625 477.7031,1437.6875 Q477.25,1438.3125 477.25,1439.1719 L477.25,1440.0938 Q477.25,1441.125 478.0938,1441.8125 Q478.9375,1442.5 480.4375,1442.5 Q481.3281,1442.5 481.9531,1442.2969 Q482.3125,1442.1875 482.7188,1441.8281 Q482.9844,1441.625 483.125,1441.5625 Q483.2656,1441.5 483.4375,1441.5 Q483.7656,1441.5 484,1441.7656 Q484.25,1442.0156 484.25,1442.375 Q484.25,1442.7188 483.9063,1443.125 Q483.4063,1443.7188 482.6094,1444.0469 Q481.5625,1444.5 480.2813,1444.5 Q478.7813,1444.5 477.5781,1443.9063 Q476.6094,1443.4375 475.9219,1442.4219 Q475.25,1441.4063 475.25,1440.2031 L475.25,1439.1094 Q475.25,1437.8594 475.8438,1436.7656 Q476.4531,1435.6719 477.5,1435.0938 Q478.5625,1434.5 479.75,1434.5 Q480.4688,1434.5 481.0938,1434.75 Q481.7188,1435 482.25,1435.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="500.75" y="1443.9102">ExternalModuleAdapter1</text><line style="stroke:#A80036;stroke-width:1.5;" x1="408" x2="694" y1="1455" y2="1455"/><line style="stroke:#A80036;stroke-width:1.5;" x1="408" x2="694" y1="1463" y2="1463"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="276" x="413" y="1478.4189">+ReferenceValue getReferenceValue((Parameter param)</text><!--MD5=[451383fa0f9a56f3a5d7f9dbcfb0de33]
class ExternalModule1API--><rect codeLine="62" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="89.5078" id="ExternalModule1API" style="stroke:#A80036;stroke-width:1.5;" width="452" x="275" y="1546"/><ellipse cx="442.25" cy="1562" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M444.25,1558.5 Q444.4531,1558 444.6875,1557.75 Q444.9219,1557.5 445.1875,1557.5 Q445.6563,1557.5 445.9531,1557.7813 Q446.25,1558.0625 446.25,1558.7188 L446.25,1560.2813 Q446.25,1560.9375 445.9688,1561.2188 Q445.6875,1561.5 445.25,1561.5 Q444.8594,1561.5 444.6094,1561.3281 Q444.3594,1561.1563 444.25,1560.7031 Q444.2031,1560.3906 444.0313,1560.2188 Q443.7188,1559.8906 443.1563,1559.7031 Q442.5938,1559.5 442.0313,1559.5 Q441.3281,1559.5 440.7344,1559.7813 Q440.1563,1560.0625 439.7031,1560.6875 Q439.25,1561.3125 439.25,1562.1719 L439.25,1563.0938 Q439.25,1564.125 440.0938,1564.8125 Q440.9375,1565.5 442.4375,1565.5 Q443.3281,1565.5 443.9531,1565.2969 Q444.3125,1565.1875 444.7188,1564.8281 Q444.9844,1564.625 445.125,1564.5625 Q445.2656,1564.5 445.4375,1564.5 Q445.7656,1564.5 446,1564.7656 Q446.25,1565.0156 446.25,1565.375 Q446.25,1565.7188 445.9063,1566.125 Q445.4063,1566.7188 444.6094,1567.0469 Q443.5625,1567.5 442.2813,1567.5 Q440.7813,1567.5 439.5781,1566.9063 Q438.6094,1566.4375 437.9219,1565.4219 Q437.25,1564.4063 437.25,1563.2031 L437.25,1562.1094 Q437.25,1560.8594 437.8438,1559.7656 Q438.4531,1558.6719 439.5,1558.0938 Q440.5625,1557.5 441.75,1557.5 Q442.4688,1557.5 443.0938,1557.75 Q443.7188,1558 444.25,1558.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="462.75" y="1566.9102">ExternalModule1API</text><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="726" y1="1578" y2="1578"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="726" y1="1586" y2="1586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="327" x="281" y="1601.4189">+List&lt;NhsMetric&gt; getPossibleMetrics(String key, NHSParameterId id)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="354" x="281" y="1615.2549">+NHSReferenceValue getReferenceValue(String key, NHSParameterId id)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="440" x="281" y="1629.0908">+NHSReferenceValue getReferenceValue(String key, NHSParameterId id, NhsMetric metric)</text><!--MD5=[2191233c03d1d98f88ead7aa4dd76da0]
class ExternalModuleAdapter2--><rect codeLine="67" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="ExternalModuleAdapter2" style="stroke:#A80036;stroke-width:1.5;" width="288" x="780" y="1423"/><ellipse cx="853.25" cy="1439" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M855.25,1435.5 Q855.4531,1435 855.6875,1434.75 Q855.9219,1434.5 856.1875,1434.5 Q856.6563,1434.5 856.9531,1434.7813 Q857.25,1435.0625 857.25,1435.7188 L857.25,1437.2813 Q857.25,1437.9375 856.9688,1438.2188 Q856.6875,1438.5 856.25,1438.5 Q855.8594,1438.5 855.6094,1438.3281 Q855.3594,1438.1563 855.25,1437.7031 Q855.2031,1437.3906 855.0313,1437.2188 Q854.7188,1436.8906 854.1563,1436.7031 Q853.5938,1436.5 853.0313,1436.5 Q852.3281,1436.5 851.7344,1436.7813 Q851.1563,1437.0625 850.7031,1437.6875 Q850.25,1438.3125 850.25,1439.1719 L850.25,1440.0938 Q850.25,1441.125 851.0938,1441.8125 Q851.9375,1442.5 853.4375,1442.5 Q854.3281,1442.5 854.9531,1442.2969 Q855.3125,1442.1875 855.7188,1441.8281 Q855.9844,1441.625 856.125,1441.5625 Q856.2656,1441.5 856.4375,1441.5 Q856.7656,1441.5 857,1441.7656 Q857.25,1442.0156 857.25,1442.375 Q857.25,1442.7188 856.9063,1443.125 Q856.4063,1443.7188 855.6094,1444.0469 Q854.5625,1444.5 853.2813,1444.5 Q851.7813,1444.5 850.5781,1443.9063 Q849.6094,1443.4375 848.9219,1442.4219 Q848.25,1441.4063 848.25,1440.2031 L848.25,1439.1094 Q848.25,1437.8594 848.8438,1436.7656 Q849.4531,1435.6719 850.5,1435.0938 Q851.5625,1434.5 852.75,1434.5 Q853.4688,1434.5 854.0938,1434.75 Q854.7188,1435 855.25,1435.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="873.75" y="1443.9102">ExternalModuleAdapter2</text><line style="stroke:#A80036;stroke-width:1.5;" x1="781" x2="1067" y1="1455" y2="1455"/><line style="stroke:#A80036;stroke-width:1.5;" x1="781" x2="1067" y1="1463" y2="1463"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="276" x="786" y="1478.4189">+ReferenceValue getReferenceValue((Parameter param)</text><!--MD5=[c2db872d8177dd5e15eeb53e86d83378]
class ExternalModule2API--><rect codeLine="70" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="89.5078" id="ExternalModule2API" style="stroke:#A80036;stroke-width:1.5;" width="323" x="762.5" y="1546"/><ellipse cx="865.25" cy="1562" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M867.25,1558.5 Q867.4531,1558 867.6875,1557.75 Q867.9219,1557.5 868.1875,1557.5 Q868.6563,1557.5 868.9531,1557.7813 Q869.25,1558.0625 869.25,1558.7188 L869.25,1560.2813 Q869.25,1560.9375 868.9688,1561.2188 Q868.6875,1561.5 868.25,1561.5 Q867.8594,1561.5 867.6094,1561.3281 Q867.3594,1561.1563 867.25,1560.7031 Q867.2031,1560.3906 867.0313,1560.2188 Q866.7188,1559.8906 866.1563,1559.7031 Q865.5938,1559.5 865.0313,1559.5 Q864.3281,1559.5 863.7344,1559.7813 Q863.1563,1560.0625 862.7031,1560.6875 Q862.25,1561.3125 862.25,1562.1719 L862.25,1563.0938 Q862.25,1564.125 863.0938,1564.8125 Q863.9375,1565.5 865.4375,1565.5 Q866.3281,1565.5 866.9531,1565.2969 Q867.3125,1565.1875 867.7188,1564.8281 Q867.9844,1564.625 868.125,1564.5625 Q868.2656,1564.5 868.4375,1564.5 Q868.7656,1564.5 869,1564.7656 Q869.25,1565.0156 869.25,1565.375 Q869.25,1565.7188 868.9063,1566.125 Q868.4063,1566.7188 867.6094,1567.0469 Q866.5625,1567.5 865.2813,1567.5 Q863.7813,1567.5 862.5781,1566.9063 Q861.6094,1566.4375 860.9219,1565.4219 Q860.25,1564.4063 860.25,1563.2031 L860.25,1562.1094 Q860.25,1560.8594 860.8438,1559.7656 Q861.4531,1558.6719 862.5,1558.0938 Q863.5625,1557.5 864.75,1557.5 Q865.4688,1557.5 866.0938,1557.75 Q866.7188,1558 867.25,1558.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="885.75" y="1566.9102">ExternalModule2API</text><line style="stroke:#A80036;stroke-width:1.5;" x1="763.5" x2="1084.5" y1="1578" y2="1578"/><line style="stroke:#A80036;stroke-width:1.5;" x1="763.5" x2="1084.5" y1="1586" y2="1586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="228" x="768.5" y="1601.4189">+List&lt;String&gt; getMetricsFor(String parameterId)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="768.5" y="1615.2549">+EMRefValue getReferenceFor(String parameterId)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="311" x="768.5" y="1629.0908">+EMRefValue getReferenceFor(String parameterId, Date onDate)</text><!--MD5=[63386ce01156be326996be41135b9514]
class ExternalModuleAdapter3--><rect codeLine="75" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="ExternalModuleAdapter3" style="stroke:#A80036;stroke-width:1.5;" width="288" x="1130" y="1423"/><ellipse cx="1203.25" cy="1439" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1205.25,1435.5 Q1205.4531,1435 1205.6875,1434.75 Q1205.9219,1434.5 1206.1875,1434.5 Q1206.6563,1434.5 1206.9531,1434.7813 Q1207.25,1435.0625 1207.25,1435.7188 L1207.25,1437.2813 Q1207.25,1437.9375 1206.9688,1438.2188 Q1206.6875,1438.5 1206.25,1438.5 Q1205.8594,1438.5 1205.6094,1438.3281 Q1205.3594,1438.1563 1205.25,1437.7031 Q1205.2031,1437.3906 1205.0313,1437.2188 Q1204.7188,1436.8906 1204.1563,1436.7031 Q1203.5938,1436.5 1203.0313,1436.5 Q1202.3281,1436.5 1201.7344,1436.7813 Q1201.1563,1437.0625 1200.7031,1437.6875 Q1200.25,1438.3125 1200.25,1439.1719 L1200.25,1440.0938 Q1200.25,1441.125 1201.0938,1441.8125 Q1201.9375,1442.5 1203.4375,1442.5 Q1204.3281,1442.5 1204.9531,1442.2969 Q1205.3125,1442.1875 1205.7188,1441.8281 Q1205.9844,1441.625 1206.125,1441.5625 Q1206.2656,1441.5 1206.4375,1441.5 Q1206.7656,1441.5 1207,1441.7656 Q1207.25,1442.0156 1207.25,1442.375 Q1207.25,1442.7188 1206.9063,1443.125 Q1206.4063,1443.7188 1205.6094,1444.0469 Q1204.5625,1444.5 1203.2813,1444.5 Q1201.7813,1444.5 1200.5781,1443.9063 Q1199.6094,1443.4375 1198.9219,1442.4219 Q1198.25,1441.4063 1198.25,1440.2031 L1198.25,1439.1094 Q1198.25,1437.8594 1198.8438,1436.7656 Q1199.4531,1435.6719 1200.5,1435.0938 Q1201.5625,1434.5 1202.75,1434.5 Q1203.4688,1434.5 1204.0938,1434.75 Q1204.7188,1435 1205.25,1435.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="1223.75" y="1443.9102">ExternalModuleAdapter3</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1131" x2="1417" y1="1455" y2="1455"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1131" x2="1417" y1="1463" y2="1463"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="276" x="1136" y="1478.4189">+ReferenceValue getReferenceValue((Parameter param)</text><!--MD5=[684eca265d68b7682ab3f1c4bd898418]
class ExternalModule3API--><rect codeLine="78" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="89.5078" id="ExternalModule3API" style="stroke:#A80036;stroke-width:1.5;" width="361" x="1120.5" y="1546"/><ellipse cx="1242.25" cy="1562" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1244.25,1558.5 Q1244.4531,1558 1244.6875,1557.75 Q1244.9219,1557.5 1245.1875,1557.5 Q1245.6563,1557.5 1245.9531,1557.7813 Q1246.25,1558.0625 1246.25,1558.7188 L1246.25,1560.2813 Q1246.25,1560.9375 1245.9688,1561.2188 Q1245.6875,1561.5 1245.25,1561.5 Q1244.8594,1561.5 1244.6094,1561.3281 Q1244.3594,1561.1563 1244.25,1560.7031 Q1244.2031,1560.3906 1244.0313,1560.2188 Q1243.7188,1559.8906 1243.1563,1559.7031 Q1242.5938,1559.5 1242.0313,1559.5 Q1241.3281,1559.5 1240.7344,1559.7813 Q1240.1563,1560.0625 1239.7031,1560.6875 Q1239.25,1561.3125 1239.25,1562.1719 L1239.25,1563.0938 Q1239.25,1564.125 1240.0938,1564.8125 Q1240.9375,1565.5 1242.4375,1565.5 Q1243.3281,1565.5 1243.9531,1565.2969 Q1244.3125,1565.1875 1244.7188,1564.8281 Q1244.9844,1564.625 1245.125,1564.5625 Q1245.2656,1564.5 1245.4375,1564.5 Q1245.7656,1564.5 1246,1564.7656 Q1246.25,1565.0156 1246.25,1565.375 Q1246.25,1565.7188 1245.9063,1566.125 Q1245.4063,1566.7188 1244.6094,1567.0469 Q1243.5625,1567.5 1242.2813,1567.5 Q1240.7813,1567.5 1239.5781,1566.9063 Q1238.6094,1566.4375 1237.9219,1565.4219 Q1237.25,1564.4063 1237.25,1563.2031 L1237.25,1562.1094 Q1237.25,1560.8594 1237.8438,1559.7656 Q1238.4531,1558.6719 1239.5,1558.0938 Q1240.5625,1557.5 1241.75,1557.5 Q1242.4688,1557.5 1243.0938,1557.75 Q1243.7188,1558 1244.25,1558.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="1262.75" y="1566.9102">ExternalModule3API</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1121.5" x2="1480.5" y1="1578" y2="1578"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1121.5" x2="1480.5" y1="1586" y2="1586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="283" x="1126.5" y="1601.4189">+String usedMetric(String parameterId, Integer accessKey)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="345" x="1126.5" y="1615.2549">+Double getMinReferenceValue(String parameterId, Integer accessKey)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="349" x="1126.5" y="1629.0908">+Double getMaxReferenceValue(String parameterId, Integer accessKey)</text><!--MD5=[62bdb6435f21fcc181756dc3392fb99a]
class RecordTestResultUI--><rect codeLine="83" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="48" id="RecordTestResultUI" style="stroke:#A80036;stroke-width:1.5;" width="144" x="166" y="7"/><ellipse cx="181" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M183,19.5 Q183.2031,19 183.4375,18.75 Q183.6719,18.5 183.9375,18.5 Q184.4063,18.5 184.7031,18.7813 Q185,19.0625 185,19.7188 L185,21.2813 Q185,21.9375 184.7188,22.2188 Q184.4375,22.5 184,22.5 Q183.6094,22.5 183.3594,22.3281 Q183.1094,22.1563 183,21.7031 Q182.9531,21.3906 182.7813,21.2188 Q182.4688,20.8906 181.9063,20.7031 Q181.3438,20.5 180.7813,20.5 Q180.0781,20.5 179.4844,20.7813 Q178.9063,21.0625 178.4531,21.6875 Q178,22.3125 178,23.1719 L178,24.0938 Q178,25.125 178.8438,25.8125 Q179.6875,26.5 181.1875,26.5 Q182.0781,26.5 182.7031,26.2969 Q183.0625,26.1875 183.4688,25.8281 Q183.7344,25.625 183.875,25.5625 Q184.0156,25.5 184.1875,25.5 Q184.5156,25.5 184.75,25.7656 Q185,26.0156 185,26.375 Q185,26.7188 184.6563,27.125 Q184.1563,27.7188 183.3594,28.0469 Q182.3125,28.5 181.0313,28.5 Q179.5313,28.5 178.3281,27.9063 Q177.3594,27.4375 176.6719,26.4219 Q176,25.4063 176,24.2031 L176,23.1094 Q176,21.8594 176.5938,20.7656 Q177.2031,19.6719 178.25,19.0938 Q179.3125,18.5 180.5,18.5 Q181.2188,18.5 181.8438,18.75 Q182.4688,19 183,19.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="195" y="27.9102">RecordTestResultUI</text><line style="stroke:#A80036;stroke-width:1.5;" x1="167" x2="309" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="167" x2="309" y1="47" y2="47"/><!--MD5=[ef30bcd9a8851b2fb15fb683dae6a22f]
class RecordTestResultController--><rect codeLine="84" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="117.1797" id="RecordTestResultController" style="stroke:#A80036;stroke-width:1.5;" width="280" x="283" y="116"/><ellipse cx="341.75" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M343.75,128.5 Q343.9531,128 344.1875,127.75 Q344.4219,127.5 344.6875,127.5 Q345.1563,127.5 345.4531,127.7813 Q345.75,128.0625 345.75,128.7188 L345.75,130.2813 Q345.75,130.9375 345.4688,131.2188 Q345.1875,131.5 344.75,131.5 Q344.3594,131.5 344.1094,131.3281 Q343.8594,131.1563 343.75,130.7031 Q343.7031,130.3906 343.5313,130.2188 Q343.2188,129.8906 342.6563,129.7031 Q342.0938,129.5 341.5313,129.5 Q340.8281,129.5 340.2344,129.7813 Q339.6563,130.0625 339.2031,130.6875 Q338.75,131.3125 338.75,132.1719 L338.75,133.0938 Q338.75,134.125 339.5938,134.8125 Q340.4375,135.5 341.9375,135.5 Q342.8281,135.5 343.4531,135.2969 Q343.8125,135.1875 344.2188,134.8281 Q344.4844,134.625 344.625,134.5625 Q344.7656,134.5 344.9375,134.5 Q345.2656,134.5 345.5,134.7656 Q345.75,135.0156 345.75,135.375 Q345.75,135.7188 345.4063,136.125 Q344.9063,136.7188 344.1094,137.0469 Q343.0625,137.5 341.7813,137.5 Q340.2813,137.5 339.0781,136.9063 Q338.1094,136.4375 337.4219,135.4219 Q336.75,134.4063 336.75,133.2031 L336.75,132.1094 Q336.75,130.8594 337.3438,129.7656 Q337.9531,128.6719 339,128.0938 Q340.0625,127.5 341.25,127.5 Q341.9688,127.5 342.5938,127.75 Q343.2188,128 343.75,128.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="362.25" y="136.9102">RecordTestResultController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="284" x2="562" y1="148" y2="148"/><line style="stroke:#A80036;stroke-width:1.5;" x1="284" x2="562" y1="156" y2="156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="289" y="171.4189">+RecordTestResultController(company)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="162" x="289" y="185.2549">+getTestsWithCollectedSamples()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="289" y="199.0908">+getTestParameters(barcode)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="268" x="289" y="212.9268">+createTestParameterResult(paramCode, result, metric)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="289" y="226.7627">+saveTestParameterResult()</text><!--MD5=[62c7d4a163c0b3e818e6fd0ad5f45870]
class ParamMapper--><rect codeLine="91" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="61.8359" id="ParamMapper" style="stroke:#A80036;stroke-width:1.5;" width="111" x="136.5" y="143.5"/><ellipse cx="151.95" cy="159.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M153.95,156 Q154.1531,155.5 154.3875,155.25 Q154.6219,155 154.8875,155 Q155.3563,155 155.6531,155.2813 Q155.95,155.5625 155.95,156.2188 L155.95,157.7813 Q155.95,158.4375 155.6688,158.7188 Q155.3875,159 154.95,159 Q154.5594,159 154.3094,158.8281 Q154.0594,158.6563 153.95,158.2031 Q153.9031,157.8906 153.7313,157.7188 Q153.4188,157.3906 152.8563,157.2031 Q152.2938,157 151.7313,157 Q151.0281,157 150.4344,157.2813 Q149.8563,157.5625 149.4031,158.1875 Q148.95,158.8125 148.95,159.6719 L148.95,160.5938 Q148.95,161.625 149.7938,162.3125 Q150.6375,163 152.1375,163 Q153.0281,163 153.6531,162.7969 Q154.0125,162.6875 154.4188,162.3281 Q154.6844,162.125 154.825,162.0625 Q154.9656,162 155.1375,162 Q155.4656,162 155.7,162.2656 Q155.95,162.5156 155.95,162.875 Q155.95,163.2188 155.6063,163.625 Q155.1063,164.2188 154.3094,164.5469 Q153.2625,165 151.9813,165 Q150.4813,165 149.2781,164.4063 Q148.3094,163.9375 147.6219,162.9219 Q146.95,161.9063 146.95,160.7031 L146.95,159.6094 Q146.95,158.3594 147.5438,157.2656 Q148.1531,156.1719 149.2,155.5938 Q150.2625,155 151.45,155 Q152.1688,155 152.7938,155.25 Q153.4188,155.5 153.95,156 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="166.05" y="164.4102">ParamMapper</text><line style="stroke:#A80036;stroke-width:1.5;" x1="137.5" x2="246.5" y1="175.5" y2="175.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="137.5" x2="246.5" y1="183.5" y2="183.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="142.5" y="198.9189">+toDTO(parameters)</text><!--MD5=[c16293fdc2a349471a916198a6de1464]
class ParamDTO--><rect codeLine="94" fill="#FEFECE" filter="url(#f186knceyf1w7d)" height="89.5078" id="ParamDTO" style="stroke:#A80036;stroke-width:1.5;" width="94" x="7" y="129.5"/><ellipse cx="22" cy="145.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M24,142 Q24.2031,141.5 24.4375,141.25 Q24.6719,141 24.9375,141 Q25.4063,141 25.7031,141.2813 Q26,141.5625 26,142.2188 L26,143.7813 Q26,144.4375 25.7188,144.7188 Q25.4375,145 25,145 Q24.6094,145 24.3594,144.8281 Q24.1094,144.6563 24,144.2031 Q23.9531,143.8906 23.7813,143.7188 Q23.4688,143.3906 22.9063,143.2031 Q22.3438,143 21.7813,143 Q21.0781,143 20.4844,143.2813 Q19.9063,143.5625 19.4531,144.1875 Q19,144.8125 19,145.6719 L19,146.5938 Q19,147.625 19.8438,148.3125 Q20.6875,149 22.1875,149 Q23.0781,149 23.7031,148.7969 Q24.0625,148.6875 24.4688,148.3281 Q24.7344,148.125 24.875,148.0625 Q25.0156,148 25.1875,148 Q25.5156,148 25.75,148.2656 Q26,148.5156 26,148.875 Q26,149.2188 25.6563,149.625 Q25.1563,150.2188 24.3594,150.5469 Q23.3125,151 22.0313,151 Q20.5313,151 19.3281,150.4063 Q18.3594,149.9375 17.6719,148.9219 Q17,147.9063 17,146.7031 L17,145.6094 Q17,144.3594 17.5938,143.2656 Q18.2031,142.1719 19.25,141.5938 Q20.3125,141 21.5,141 Q22.2188,141 22.8438,141.25 Q23.4688,141.5 24,142 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="36" y="150.4102">ParamDTO</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="100" y1="161.5" y2="161.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="13" y="176.9189">-code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="13" y="190.7549">-name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="13" y="204.5908">-description</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="100" y1="211.0078" y2="211.0078"/><!--MD5=[e0fe53a4cfb5eba193304877d6f3c961]
link RecordTestResultUI to RecordTestResultController--><path codeLine="100" d="M268.14,55.05 C288.64,70.73 316.8,92.27 343.49,112.69 " fill="none" id="RecordTestResultUI-to-RecordTestResultController" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="347.76,115.95,343.029,107.3118,343.7842,112.9181,338.1779,113.6732,347.76,115.95" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[402946db6c09f6c2b049a2b62dd70478]
link RecordTestResultUI to ParamDTO--><path codeLine="101" d="M203.16,55.11 C179.04,71.46 146.46,94.27 119,116 C114.38,119.65 109.66,123.53 104.98,127.48 " fill="none" id="RecordTestResultUI-to-ParamDTO" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="101.05,130.8,110.4987,128.021,104.8604,127.5626,105.3188,121.9243,101.05,130.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8bbacdc053f49d02544283068f63af2b]
link RecordTestResultController to Company--><path codeLine="102" d="M563.3,174.5 C573.07,174.5 582.84,174.5 592.62,174.5 " fill="none" id="RecordTestResultController-to-Company" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="597.73,174.5,588.73,170.5,592.73,174.5,588.73,178.5,597.73,174.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[866fb64d77ebacf9d7511828c2a6b1e8]
reverse link ParamMapper to RecordTestResultController--><path codeLine="103" d="M253.12,174.5 C263.02,174.5 272.92,174.5 282.82,174.5 " fill="none" id="ParamMapper-backto-RecordTestResultController" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="247.95,174.5,256.95,178.5,252.95,174.5,256.95,170.5,247.95,174.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2ff28854dd0d35b7428857f09a1bbf48]
link ParamMapper to Parameter--><path codeLine="104" d="M206.47,205.66 C222.47,241.82 246,304.67 246,361.5 C246,361.5 246,361.5 246,739.5 C246,782.72 262.1,829.18 277.03,862.98 " fill="none" id="ParamMapper-to-Parameter" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="279.22,867.87,279.1744,858.0212,277.1682,863.3104,271.879,861.3042,279.22,867.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6090f9786f6b07699fbe4bca96de23f7]
reverse link ParamDTO to ParamMapper--><path codeLine="105" d="M106.38,174.5 C116.35,174.5 126.32,174.5 136.29,174.5 " fill="none" id="ParamDTO-backto-ParamMapper" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="101.17,174.5,110.17,178.5,106.17,174.5,110.17,170.5,101.17,174.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7f6cf7f175eae0af66201860de5de971]
link Company to TestStore--><path codeLine="106" d="M641.35,205.8 C640.77,232.77 639.91,272.9 639.2,305.67 " fill="none" id="Company-to-TestStore" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="639.09,310.86,643.2692,301.9418,639.19,305.861,635.2708,301.7818,639.09,310.86" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="641" y="277.4951">uses</text><!--MD5=[b0f4f6db8206580012ef9cd998ed01c5]
link TestStore to Test--><path codeLine="107" d="M635.27,414.33 C634.07,436.62 632.65,463.03 631.38,486.56 " fill="none" id="TestStore-to-Test" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="631.1,491.84,635.557,483.0573,631.3568,486.8466,627.5675,482.6464,631.1,491.84" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="634" y="458.4951">contains</text><!--MD5=[9735660ec8fc5abdb8afe2aef285d6e2]
link ReferenceValue to ExternalModule--><path codeLine="108" d="M747.09,1310.5 C757,1310.5 766.91,1310.5 776.81,1310.5 " fill="none" id="ReferenceValue-to-ExternalModule" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="781.99,1310.5,772.99,1306.5,776.99,1310.5,772.99,1314.5,781.99,1310.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0d7400db49512ed16acdd918a371ecef]
reverse link SampleStore to Test--><path codeLine="109" d="M509.26,550.5 C528.87,550.5 549.97,550.5 568.86,550.5 " fill="none" id="SampleStore-backto-Test" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="504.04,550.5,513.04,554.5,509.04,550.5,513.04,546.5,504.04,550.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="522.5" y="543.9951">uses</text><!--MD5=[fc8231e7dcf58fc59fc3d98bba744cb2]
link Test to TestParameterStore--><path codeLine="110" d="M628,609.08 C628,634.48 628,664.02 628,688.36 " fill="none" id="Test-to-TestParameterStore" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="628,693.48,632,684.48,628,688.48,624,684.48,628,693.48" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="629" y="653.4951">uses</text><!--MD5=[a254b1f09f43a82939a9db3fb08158fc]
link TestParameterStore to TestParameter--><path codeLine="111" d="M628,783.92 C628,810.31 628,843.6 628,869.62 " fill="none" id="TestParameterStore-to-TestParameter" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="628,874.73,632,865.73,628,869.73,624,865.73,628,874.73" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="629" y="834.4951">contains</text><!--MD5=[e981d4f96c4342412d1e68160b30cf70]
link Test to TestType--><path codeLine="112" d="M568.69,596.53 C530.98,625.16 482.26,662.14 444.19,691.04 " fill="none" id="Test-to-TestType" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="440.07,694.17,449.656,691.9098,444.0511,691.1449,444.8159,685.54,440.07,694.17" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="507" y="653.4951">is of</text><!--MD5=[5b7a9ded131023be416e27d15bcd6d77]
link TestType to Parameter--><path codeLine="113" d="M359.14,790.32 C348.33,813.33 335.61,840.41 324.92,863.18 " fill="none" id="TestType-to-Parameter" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="322.68,867.97,330.1364,861.5355,324.8124,863.4475,322.9004,858.1236,322.68,867.97" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="346" y="834.4951">contains</text><!--MD5=[0e00e25ac6b8c14659aaff2cf7e5df08]
link TestParameter to TestParameterResult--><path codeLine="114" d="M628,951.31 C628,973.85 628,1003.41 628,1030.75 " fill="none" id="TestParameter-to-TestParameterResult" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="628,1035.83,632,1026.83,628,1030.83,624,1026.83,628,1035.83" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="629" y="1002.4951">has</text><!--MD5=[52200cc2361fa0ac0481dd6ffcdb824b]
link TestParameterResult to ReferenceValue--><path codeLine="115" d="M628,1181.14 C628,1205 628,1231.21 628,1253.7 " fill="none" id="TestParameterResult-to-ReferenceValue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="628,1258.73,632,1249.73,628,1253.73,624,1249.73,628,1258.73" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="629" y="1225.4951">has</text><!--MD5=[c2c2ccc97fe06aa0672aa10f0c0d0d1b]
reverse link ExternalModule to ExternalModuleAdapter1--><path codeLine="116" d="M826.11,1348.63 C765.06,1371.79 687.5,1401.22 630.31,1422.91 " fill="none" id="ExternalModule-backto-ExternalModuleAdapter1" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="823.71,1342.06,844.9,1341.51,828.68,1355.15,823.71,1342.06" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e762491942221b7e6cccce8a5f133053]
reverse link ExternalModule to ExternalModuleAdapter2--><path codeLine="117" d="M924,1361.83 C924,1382.11 924,1404.85 924,1422.55 " fill="none" id="ExternalModule-backto-ExternalModuleAdapter2" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="917,1361.51,924,1341.51,931,1361.51,917,1361.51" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1d0e74bf7655fc5437023a6d82ac8590]
reverse link ExternalModule to ExternalModuleAdapter3--><path codeLine="118" d="M1016.97,1349.09 C1074.08,1372.18 1146.26,1401.36 1199.58,1422.91 " fill="none" id="ExternalModule-backto-ExternalModuleAdapter3" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1014.14,1355.49,998.23,1341.51,1019.39,1342.52,1014.14,1355.49" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[58f1a4fa5a8f4314e8210b69ec05dc13]
link ExternalModuleAdapter1 to ExternalModule1API--><path codeLine="119" d="M539.78,1485.3 C533.67,1501.78 525.98,1522.57 519.05,1541.27 " fill="none" id="ExternalModuleAdapter1-to-ExternalModule1API" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="517.31,1545.97,524.1777,1538.9106,519.0405,1541.279,516.6721,1536.1418,517.31,1545.97" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a71efa0de9a7d719e8e2d63d4ca16127]
link ExternalModuleAdapter2 to ExternalModule2API--><path codeLine="120" d="M924,1485.3 C924,1501.64 924,1522.22 924,1540.79 " fill="none" id="ExternalModuleAdapter2-to-ExternalModule2API" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="924,1545.97,928,1536.97,924,1540.97,920,1536.97,924,1545.97" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[525de1d813f0141c9ef89d09db668bb4]
link ExternalModuleAdapter3 to ExternalModule3API--><path codeLine="121" d="M1280.06,1485.3 C1283.33,1501.64 1287.44,1522.22 1291.16,1540.79 " fill="none" id="ExternalModuleAdapter3-to-ExternalModule3API" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1292.19,1545.97,1294.3634,1536.364,1291.2177,1541.0655,1286.5162,1537.9197,1292.19,1545.97" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e164a61f97bc7703fceb1a26e31f33fe]
@startuml
skinparam classAttributeIconSize 0
class Company {
+ getTestStore()
}
class Test {
-code
-NhsCode
-createdAt
+ getTestParamStore()
+ getSampleStore()
}
class SampleStore {
+ existsSample(barcode)
}
class TestParameterStore {
- getTestParameter(paramCode)
+ getParameters()
+ createTestParameterResult(paramCode, result, metric)
}
class TestType {
-code
-description
+ getExternalModule()
+ getParameters()
}
class TestParameter {
+ getParameter()
+ createTestParameterResult(result, metric, refValue)
}
class TestStore {
+ getTestsWithCollectedSamples()
+ getTestBySampleBarcode(barcode)
+ getTestParameters(test)
+ createTestParameterResult(test, paramCode, result, metric)
}
class Parameter {
-code
-shortName
-description
}
class ReferenceValue {
-minValue
-maxValue
-metric
+ReferenceValue(minValue, maxValue, metric)
}
class TestParameterResult {
-createdAt
-value
-metric
+ TestParameterResult(value, metric, refValue)
- validateValue()
- validateMetric()
- validateRefValue()
}
interface ExternalModule {
+ ReferenceValue getReferenceValue(Parameter param)
}
class ExternalModuleAdapter1 {
+ ReferenceValue getReferenceValue((Parameter param)
}
class ExternalModule1API {
+ List<NhsMetric> getPossibleMetrics(String key, NHSParameterId id)
+ NHSReferenceValue getReferenceValue(String key, NHSParameterId id)
+ NHSReferenceValue getReferenceValue(String key, NHSParameterId id, NhsMetric metric)
}
class ExternalModuleAdapter2 {
+ ReferenceValue getReferenceValue((Parameter param)
}
class ExternalModule2API {
+ List<String> getMetricsFor(String parameterId)
+ EMRefValue getReferenceFor(String parameterId)
+ EMRefValue getReferenceFor(String parameterId, Date onDate)
}
class ExternalModuleAdapter3 {
+ ReferenceValue getReferenceValue((Parameter param)
}
class ExternalModule3API {
+ String usedMetric(String parameterId, Integer accessKey)
+ Double getMinReferenceValue(String parameterId, Integer accessKey)
+ Double getMaxReferenceValue(String parameterId, Integer accessKey)
}
class RecordTestResultUI
class RecordTestResultController {
+ RecordTestResultController(company)
+ getTestsWithCollectedSamples()
+ getTestParameters(barcode)
+ createTestParameterResult(paramCode, result, metric)
+ saveTestParameterResult()
}
class ParamMapper {
+ toDTO(parameters)
}
class ParamDTO {
- code
- name
- description
}

RecordTestResultUI ..> RecordTestResultController
RecordTestResultUI ..> ParamDTO
RecordTestResultController .right.> Company
RecordTestResultController .left.> ParamMapper
ParamMapper ..> Parameter
ParamMapper .left.> ParamDTO
Company - -> TestStore : uses
TestStore - -> Test : contains
ReferenceValue .right.> ExternalModule
Test -left-> SampleStore: uses
Test - -> TestParameterStore: uses
TestParameterStore - -> TestParameter : contains
Test - -> TestType : is of
TestType - -> Parameter : contains
TestParameter - -> TestParameterResult : has
TestParameterResult - -> ReferenceValue : has
ExternalModule <|.. ExternalModuleAdapter1
ExternalModule <|.. ExternalModuleAdapter2
ExternalModule <|.. ExternalModuleAdapter3
ExternalModuleAdapter1 - -> ExternalModule1API
ExternalModuleAdapter2 - -> ExternalModule2API
ExternalModuleAdapter3 - -> ExternalModule3API
@enduml

PlantUML version 1.2021.2(Sun Mar 07 11:10:27 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>